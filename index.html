<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø«Ø§Ù†ÙˆÙŠØ© ÙˆÙ…Ø¹Ù‡Ø¯ Ø§Ø¨Ù† Ø®Ù„Ø¯ÙˆÙ† Ø§Ù„Ø®Ø§ØµØ© IPS</title>
    <style>
        :root { --primary: #6c5ce7; --bg: #f4f7fe; --sidebar-w: 260px; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); margin: 0; display: flex; flex-direction: column; }
        
        /* Ø´Ø§Ø´Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆØ§Ù„ØªØ³Ø¬ÙŠÙ„ */
        .auth-screen { position: fixed; inset: 0; background: white; z-index: 2000; display: flex; align-items: center; justify-content: center; padding: 20px; }
        .auth-card { width: 100%; max-width: 380px; text-align: center; background: white; padding: 30px; border-radius: 25px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); }
        .school-logo { width: 80px; height: 80px; margin-bottom: 10px; object-fit: contain; }
        input, select { width: 100%; padding: 14px; margin: 8px 0; border: 1px solid #ddd; border-radius: 12px; box-sizing: border-box; outline: none; }
        .btn-main { background: var(--primary); color: white; border: none; padding: 14px; width: 100%; border-radius: 12px; cursor: pointer; font-weight: bold; font-size: 16px; }

        /* Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ© */
        .app-container { display: none; min-height: 100vh; width: 100%; }
        .sidebar { width: var(--sidebar-w); background: white; border-left: 1px solid #eee; padding: 20px; display: flex; flex-direction: column; align-items: center; flex-shrink: 0; }
        .main-content { flex-grow: 1; padding: 20px; width: calc(100% - var(--sidebar-w)); box-sizing: border-box; }

        @media (max-width: 768px) {
            .app-container { flex-direction: column; }
            .sidebar { width: 100%; border-left: none; border-bottom: 1px solid #eee; }
            .main-content { width: 100%; }
        }

        .card { background: white; border-radius: 20px; padding: 20px; margin-bottom: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
        .info-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 10px; margin-top: 15px; }
        .info-item { background: #f8f9ff; padding: 12px; border-radius: 12px; border: 1px solid #ecefff; }
        .info-label { font-size: 11px; color: #888; display: block; }
        .info-value { font-size: 14px; font-weight: 600; color: #333; }
    </style>
</head>
<body>

<div id="auth-screen" class="auth-screen">
    <div id="login-box" class="auth-card">
        <img src="https://cdn-icons-png.flaticon.com/512/5351/5351042.png" class="school-logo" alt="Logo">
        <h2 style="color:var(--primary); margin:0;">IPS</h2>
        <p style="font-size:14px; color:#666; margin-bottom:20px;">Ø«Ø§Ù†ÙˆÙŠØ© ÙˆÙ…Ø¹Ù‡Ø¯ Ø§Ø¨Ù† Ø®Ù„Ø¯ÙˆÙ† Ø§Ù„Ø®Ø§ØµØ©</p>
        
        <input type="text" id="user-in" placeholder="ID Ø§Ù„Ø·Ø§Ù„Ø¨ Ø£Ùˆ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
        <input type="password" id="pass-in" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
        <button class="btn-main" onclick="handleLogin()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
        
        <p style="font-size: 13px; color: var(--primary); cursor: pointer; margin-top: 15px;" onclick="toggleAuth(true)">Ø£Ù„Ø§ ØªÙ…Ù„Ùƒ Ø­Ø³Ø§Ø¨ØŸ Ø³Ø¬Ù„ Ø§Ù„Ø¢Ù†</p>
    </div>

    <div id="register-box" class="auth-card" style="display:none;">
        <h3 style="color:var(--primary)">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø·Ø§Ù„Ø¨ Ø¬Ø¯ÙŠØ¯</h3>
        <input type="text" id="reg-name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ">
        <input type="text" id="reg-id" placeholder="Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ (ID)">
        <select id="reg-grade">
            <option value="ØªØ§Ø³Ø¹">ØªØ§Ø³Ø¹</option>
            <option value="Ø¹Ø§Ø´Ø±">Ø¹Ø§Ø´Ø±</option>
            <option value="Ø­Ø§Ø¯ÙŠ Ø¹Ø´Ø±">Ø­Ø§Ø¯ÙŠ Ø¹Ø´Ø±</option>
            <option value="Ø«Ø§Ù„Ø« Ø«Ø§Ù†ÙˆÙŠ">Ø«Ø§Ù„Ø« Ø«Ø§Ù†ÙˆÙŠ</option>
        </select>
        <input type="password" id="reg-pass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
        <button class="btn-main" onclick="handleRegister()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø³Ø§Ø¨</button>
        <p style="font-size: 13px; color: var(--primary); cursor: pointer; margin-top: 15px;" onclick="toggleAuth(false)">Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„</p>
    </div>
</div>

<div id="main-app" class="app-container">
    <div class="sidebar">
        <img src="https://cdn-icons-png.flaticon.com/512/5351/5351042.png" style="width:60px; margin-bottom:15px;">
        <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" style="width:80px; border-radius:50%; border:3px solid var(--primary);">
        <h3 id="side-name" style="margin:10px 0 0;">Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨</h3>
        <p id="side-id" style="color:#888; font-size:12px;">ID: ---</p>
        
        <div style="width:100%; margin-top:20px;">
            <div style="padding:12px; background:#f0edff; color:var(--primary); border-radius:10px; margin-bottom:8px; font-weight:bold;">ğŸ‘¤ Ù…Ù„ÙØ§ØªÙŠ</div>
            <div style="padding:12px; color:#666;">ğŸ’³ Ø§Ù„Ù…Ø§Ù„ÙŠØ©</div>
            <div style="padding:12px; color:#666;">ğŸ“ Ø§Ù„Ø¯Ø±Ø¬Ø§Øª</div>
        </div>
        <button onclick="location.reload()" style="margin-top:auto; width:100%; padding:10px; background:#ff7675; color:white; border:none; border-radius:10px; cursor:pointer;">Ø®Ø±ÙˆØ¬</button>
    </div>

    <div class="main-content">
        <div class="card">
            <h3 style="color:var(--primary); margin:0;">ğŸ‘¤ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨ (Ù…Ù„ÙØ§ØªÙŠ)</h3>
            <div class="info-grid" id="profile-details"></div>
        </div>
    </div>
</div>

<script>
    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ¬Ù‡ Ø§Ù„Ø«Ø§Ø¨ØªØ©
    const ADMIN_USER = "ibn khaldon";
    const ADMIN_PASS = "ITmohammedf0@";

    // Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ© Ù„Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…Ø³Ø¬Ù„ÙŠÙ†
    let db = JSON.parse(localStorage.getItem('ips_students')) || {};

    function toggleAuth(isReg) {
        document.getElementById('login-box').style.display = isReg ? 'none' : 'block';
        document.getElementById('register-box').style.display = isReg ? 'block' : 'none';
    }

    function handleRegister() {
        const name = document.getElementById('reg-name').value;
        const id = document.getElementById('reg-id').value;
        const grade = document.getElementById('reg-grade').value;
        const pass = document.getElementById('reg-pass').value;

        if(!name || !id || !pass) return alert("ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© ÙƒØ§ÙØ© Ø§Ù„Ø®Ø§Ù†Ø§Øª");
        
        db[id] = { name, id, grade, pass, father: "Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ø¯ÙŠØ«", mother: "Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ø¯ÙŠØ«", address: "Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ø¯ÙŠØ«", dob: "Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ø¯ÙŠØ«", fPhone: "-", mPhone: "-", section: "ØºÙŠØ± Ù…Ø­Ø¯Ø¯" };
        localStorage.setItem('ips_students', JSON.stringify(db));
        alert("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ùƒ! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¢Ù†.");
        toggleAuth(false);
    }

    function handleLogin() {
        const u = document.getElementById('user-in').value.trim();
        const p = document.getElementById('pass-in').value.trim();

        // Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…ÙˆØ¬Ù‡
        if(u === ADMIN_USER && p === ADMIN_PASS) {
            alert("Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ Ø£ÙŠÙ‡Ø§ Ø§Ù„Ù…ÙˆØ¬Ù‡ Ø§Ù„Ø¹Ø§Ù…");
            enterApp("Ø§Ù„Ù…ÙˆØ¬Ù‡ Ø§Ù„Ø¹Ø§Ù…", "Ø¥Ø¯Ø§Ø±Ø©", "ADMIN-001");
            return;
        }

        // Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨
        const st = db[u];
        if(st && st.pass === p) {
            enterApp(st.name, st.grade, st.id, st);
        } else {
            alert("Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± ØµØ­ÙŠØ­Ø©. ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ù€ ID ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±.");
        }
    }

    function enterApp(name, grade, id, fullData = null) {
        document.getElementById('auth-screen').style.display = 'none';
        document.getElementById('main-app').style.display = 'flex';
        document.getElementById('side-name').innerText = name;
        document.getElementById('side-id').innerText = "ID: " + id;
        
        if(fullData) loadProfile(fullData);
    }

    function loadProfile(st) {
        const container = document.getElementById('profile-details');
        const labels = { name: "Ø§Ù„Ø§Ø³Ù…", father: "Ø§Ù„Ø£Ø¨", mother: "Ø§Ù„Ø£Ù…", address: "Ø§Ù„Ø¹Ù†ÙˆØ§Ù†", dob: "Ø§Ù„Ù…ÙˆØ§Ù„ÙŠØ¯", fPhone: "Ù‡Ø§ØªÙ Ø§Ù„Ø£Ø¨", mPhone: "Ù‡Ø§ØªÙ Ø§Ù„Ø£Ù…", grade: "Ø§Ù„ØµÙ", section: "Ø§Ù„Ø´Ø¹Ø¨Ø©", id: "ID Ø§Ù„Ø·Ø§Ù„Ø¨" };
        container.innerHTML = "";
        for (let key in labels) {
            container.innerHTML += `<div class="info-item"><span class="info-label">${labels[key]}</span><span class="info-value">${st[key] || '-'}</span></div>`;
        }
    }
</script>
</body>
</html>
